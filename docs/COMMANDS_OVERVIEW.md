# CROSSROID Bot コマンド一覧

## 📋 目次

1. [一般ユーザー向けコマンド](#一般ユーザー向けコマンド)
2. [ロメコイン関連コマンド](#ロメコイン関連コマンド)
3. [ゲーム関連コマンド](#ゲーム関連コマンド)
4. [銀行・借金関連コマンド](#銀行借金関連コマンド)
5. [ショップ関連コマンド](#ショップ関連コマンド)
6. [部活投資関連コマンド](#部活投資関連コマンド)
7. [パリミュチュエル関連コマンド](#パリミュチュエル関連コマンド)
8. [その他のコマンド](#その他のコマンド)
9. [管理者専用コマンド](#管理者専用コマンド)

---

## 一般ユーザー向けコマンド

### `/anonymous`
**説明**: 匿名でメッセージを送信します

**オプション**:
- `内容` (必須): 送信するメッセージ（256文字以下、改行禁止）

**制限**:
- 改行不可
- 256文字以内
- メンション不可（@everyone、@here、ロールメンション）
- クールダウンあり（使用回数に応じて増加）

**詳細**: [ANONYMOUS_SYSTEM.md](./ANONYMOUS_SYSTEM.md) を参照

---

### `/bump`
**説明**: 部活チャンネルを宣伝します

**制限**:
- 2時間に1回まで
- 部活チャンネルでのみ使用可能

---

### `/random_mention`
**説明**: サーバーメンバーをランダムでメンションします

**制限**:
- 30秒のクールダウン

---

## ロメコイン関連コマンド

### `/romecoin`
**説明**: ロメコインの所持数を確認します

**オプション**:
- `user` (任意): 確認したいユーザー（未指定時は自分）

**表示内容**:
- 所持ロメコイン
- 預金額（銀行に預けている場合）
- 合計残高

---

### `/romecoin_ranking`
**説明**: ロメコインランキングを確認します

**機能**:
- 預金を含めた合計残高でランキング表示
- ページネーション対応（1ページ10名）
- 「前へ」「次へ」ボタンでページ切り替え

**表示内容**:
- 順位（1-3位はメダル表示）
- ユーザー名（Notion名またはメンション）
- ロメコイン残高（預金込み）

---

### `/give`
**説明**: ロメコインを他のユーザーに譲渡します

**オプション**:
- `user` (必須): ロメコインを受け取るユーザー
- `amount` (必須): 譲渡するロメコインの量

**制限**:
- 世代ロール必須
- 自分自身への譲渡不可
- Botへの譲渡不可
- 残高が不足している場合はエラー

**詳細**: [ROMECOIN_SYSTEM.md](./ROMECOIN_SYSTEM.md) を参照

---

### `/daily`
**説明**: デイリーログインボーナスを受け取ります

**報酬**:
- 基本報酬: 500コイン（一般）、1,000コイン（サーバーブースター）
- 連続ログインボーナス:
  - 3日以上: +100コイン
  - 7日以上: +200コイン
  - 14日以上: +300コイン
  - 30日以上: +500コイン

**制限**:
- 世代ロール必須
- 1日1回まで

**詳細**: [ROMECOIN_SYSTEM.md](./ROMECOIN_SYSTEM.md) を参照

---

## ゲーム関連コマンド

### `/duel`
**説明**: 他のユーザーと決闘します

**オプション**:
- `対戦相手` (任意): 対戦相手（未指定時は誰でも挑戦可能）
- `bet` (任意): 賭けるロメコインの量（デフォルト: 100）

**ルール**:
- 勝者が賭け金の全額を獲得
- 敗者は賭け金を失う
- 対戦相手が指定されていない場合、募集メッセージが送信される

**詳細**: [GAME_COMMANDS.md](./GAME_COMMANDS.md) を参照

---

### `/duel_russian`
**説明**: ロシアンルーレットで対戦します

**オプション**:
- `対戦相手` (任意): 対戦相手（未指定時は誰でも挑戦可能）
- `bet` (任意): 賭けるロメコインの量（デフォルト: 100）

**ルール**:
- 6発の弾倉から1発が当たる確率で勝負
- 勝者が賭け金の全額を獲得
- 敗者は賭け金を失う

**詳細**: [GAME_COMMANDS.md](./GAME_COMMANDS.md) を参照

---

### `/duel_ranking`
**説明**: 決闘のランキングを表示します

**表示内容**:
- 勝利数
- 勝率
- 獲得ロメコイン

---

### `/janken`
**説明**: じゃんけんを開始します

**オプション**:
- `opponent` (任意): 対戦相手（クロスロイドを指定するとボット対戦、空白だと対戦募集）
- `bet` (任意): 賭けるロメコインの量（100以上、デフォルト: 100）

**ルール**:
- 勝者が賭け金の全額を獲得
- 敗者は賭け金を失う
- あいこの場合は返金

**詳細**: [GAME_COMMANDS.md](./GAME_COMMANDS.md) を参照

---

### `/janken_ranking`
**説明**: じゃんけんのランキングを表示します

**表示内容**:
- 勝利数
- 勝率
- 獲得ロメコイン

---

### `/mahjong_create`
**説明**: 雀魂を使った賭け麻雀のテーブルを作成します

**オプション**:
- `rate` (必須): レート（1点あたりのロメコイン、0.1〜1）
- `player1` (必須): 参加メンバー1
- `player2` (必須): 参加メンバー2
- `player3` (任意): 参加メンバー3（四麻の場合のみ必要）

**ルール**:
- サンマ（3人）または四麻（4人）で対戦
- 点数にレートを掛けた金額がロメコインで決済される

**詳細**: [GAME_COMMANDS.md](./GAME_COMMANDS.md) を参照

---

### `/mahjong_result`
**説明**: 賭け麻雀の試合結果を入力します

**オプション**:
- `table_id` (必須): テーブルID（試合開始時に表示されます）
- `player1_score` (必須): 部屋主の点数
- `player2_score` (必須): プレイヤー1の点数
- `player3_score` (必須): プレイヤー2の点数
- `player4_score` (任意): プレイヤー3の点数（四麻の場合のみ必要）

---

### `/mahjong_edit`
**説明**: 賭け麻雀の試合記録を修正します（部屋主のみ）

**オプション**:
- `table_id` (必須): 修正するテーブルID
- `player1_score` (必須): 部屋主の点数（修正後）
- `player2_score` (必須): プレイヤー1の点数（修正後）
- `player3_score` (必須): プレイヤー2の点数（修正後）
- `player4_score` (任意): プレイヤー3の点数（修正後、四麻の場合のみ必要）

---

### `/mahjong_ranking`
**説明**: 賭け麻雀のランキングを表示します

**表示内容**:
- 勝利数
- 勝率
- 獲得ロメコイン
- 総試合数

---

## 銀行・借金関連コマンド

### `/bank`
**説明**: 黒須銀行機能

**サブコマンド**:

#### `deposit` - 預金
**オプション**:
- `amount` (必須): 預金額

**機能**:
- 預金に利子がつく（年利2%相当、1時間ごとに計算）
- ゲーム時に自動的に引き出される
- ランキングに預金額も含まれる

#### `withdraw` - 引き出し
**オプション**:
- `amount` (必須): 引き出し額

#### `info` - 預金情報確認
**表示内容**:
- 現在の預金額
- 所持ロメコイン
- 合計残高

**詳細**: [BANK_AND_LOAN_SYSTEM.md](./BANK_AND_LOAN_SYSTEM.md) を参照

---

### `/loan`
**説明**: 借金機能

**サブコマンド**:

#### `request` - 借金を貸す
**オプション**:
- `borrower` (必須): 借り手
- `amount` (必須): 貸付額
- `days` (任意): 返済期限（日数、デフォルト: 7日）

**機能**:
- 借り手が承認すると借金が成立
- 利子がつく（1時間ごとに1.5%）
- 期限切れになると自動的に返済処理

#### `repay` - 借金を返済
**オプション**:
- `lender` (必須): 貸し手

#### `info` - 借金情報確認
**表示内容**:
- 借りている借金一覧
- 貸している借金一覧
- 返済期限
- 利子

**詳細**: [BANK_AND_LOAN_SYSTEM.md](./BANK_AND_LOAN_SYSTEM.md) を参照

---

## ショップ関連コマンド

### `/shop`
**説明**: ロメコインショップを表示します

**機能**:
- 購入可能な商品一覧を表示
- 永続的ロール（ログ閲覧権限、絵文字作成権限）を購入可能
- 購入確認ダイアログ

**詳細**: [SHOP_SYSTEM.md](./SHOP_SYSTEM.md) を参照

---

### `/backpack`
**説明**: 購入済みの商品を確認します

**表示内容**:
- 購入済み商品一覧
- 購入日時

---

## 部活投資関連コマンド

### `/club_invest`
**説明**: 部活投資機能

**サブコマンド**:

#### `info` - 部活の投資情報を表示
**オプション**:
- `channel` (任意): 部活チャンネル（未指定時は現在のチャンネル）

**表示内容**:
- 現在の株価
- 総株式数
- アクティビティポイント
- ランキング

#### `buy` - 部活に投資（株式購入）
**オプション**:
- `amount` (必須): 投資額（ロメコイン）
- `channel` (任意): 部活チャンネル（未指定時は現在のチャンネル）

#### `sell` - 保有株式を売却
**オプション**:
- `shares` (必須): 売却する株式数
- `channel` (任意): 部活チャンネル（未指定時は現在のチャンネル）

#### `portfolio` - 自分の投資ポートフォリオを表示
**表示内容**:
- 保有株式一覧
- 投資額
- 現在の評価額

**詳細**: [CLUB_INVESTMENT_SYSTEM.md](./CLUB_INVESTMENT_SYSTEM.md) を参照

---

## パリミュチュエル関連コマンド

### `/race`
**説明**: パリミュチュエル方式のレース賭け機能

**サブコマンド**:

#### `create` - レースを作成（管理者専用）
**オプション**:
- `race_id` (必須): レースID（一意の識別子）
- `name` (必須): レース名
- `candidates` (必須): 候補者名（カンマ区切り）

#### `list` - 開催中のレース一覧を表示
**表示内容**:
- レースID
- レース名
- 候補者
- ステータス

#### `info` - レース情報とオッズを表示
**オプション**:
- `race_id` (必須): レースID

**表示内容**:
- レース名
- 候補者
- 各賭けタイプのオッズ
- 総賭け金

#### `bet` - レースに賭ける
**オプション**:
- `race_id` (必須): レースID
- `bet_type` (必須): 賭けの種類（単勝、複勝、ワイド、三連複、三連単）
- `amount` (必須): 賭け金（最低100ロメコイン）
- `selection1` (必須): 選択1
- `selection2` (任意): 選択2（ワイド、三連複、三連単の場合）
- `selection3` (任意): 選択3（三連複、三連単の場合）

**賭けタイプ**:
- **単勝**: 1着を予想
- **複勝**: 3着以内を予想
- **ワイド**: 3着以内の2名を予想
- **三連複**: 3着以内の順番を問わず3名を予想
- **三連単**: 3着以内の順番通り3名を予想

#### `close` - レースの受付を締め切る（管理者専用）
**オプション**:
- `race_id` (必須): レースID

#### `result` - レースの結果を確定する（管理者専用）
**オプション**:
- `race_id` (必須): レースID
- `result` (必須): 結果（カンマ区切り、順番通り、例: 1着,2着,3着）

#### `mybets` - 自分の賭け一覧を表示
**オプション**:
- `race_id` (任意): レースID（未指定時は全レース）

**詳細**: [PARIMUTUEL_SYSTEM.md](./PARIMUTUEL_SYSTEM.md) を参照

---

## その他のコマンド

### `/test_generation`
**説明**: 世代獲得通知のテスト（運営専用）

**オプション**:
- `ユーザー` (必須): テスト対象のユーザー

---

### `/test_timereport`
**説明**: 時報機能のテスト（運営専用）

**オプション**:
- `時間` (必須): テストする時間（0-23）

---

### `/database_export`
**説明**: データベースをエクスポートします（運営専用）

---

### `/data_migrate`
**説明**: Discord IDベースのデータをNotion名ベースに引き継ぎます（運営専用）

**オプション**:
- `user` (必須): 引き継ぎ対象のユーザー

---

## 管理者専用コマンド

### `/admin_romecoin_add`
**説明**: 指定ユーザーのロメコインを増額します

**オプション**:
- `user` (必須): ロメコインを増額するユーザー
- `amount` (必須): 増額するロメコインの量

**権限**: 管理者ロール必須

---

### `/admin_romecoin_deduct`
**説明**: 指定ユーザーのロメコインを減額します

**オプション**:
- `user` (必須): ロメコインを減額するユーザー
- `amount` (必須): 減額するロメコインの量

**権限**: 管理者ロール必須

---

### `/admin_restore_file`
**説明**: データベースからJSONファイルを復元します

**オプション**:
- `file_name` (必須): 復元するファイル名
- `message_id` (任意): 特定のメッセージIDから復元（未指定時は最新のファイルを復元）

**復元可能なファイル**:
- `romecoin_data.json`
- `bank_data.json`
- `daily_data.json`
- `duel_data.json`
- `janken_data.json`
- `shop_data.json`
- `mahjong_data.json`
- `loan_data.json`
- `activity_data.json`
- `club_investment_data.json`
- `parimutuel_data.json`
- `custom_cooldowns.json`

**権限**: 管理者ロール必須

---

### `/monthly_ranking_rewards`
**説明**: 月間ランキングの上位10人に賞金を一括付与します

**オプション**:
- `rank1` 〜 `rank10` (任意): 各順位のユーザー

**権限**: 管理者ロール必須

**詳細**: [MONTHLY_RANKING_REWARDS.md](./MONTHLY_RANKING_REWARDS.md) を参照

---

### `/popularity_championship_rewards`
**説明**: 人気者選手権の上位10人に賞金を一括付与します

**オプション**:
- `rank1` 〜 `rank10` (任意): 各順位のユーザー

**権限**: 管理者ロール必須

---

### `匿名開示 (運営専用)` (コンテキストメニュー)
**説明**: 匿名メッセージの送信者を特定します

**使用方法**: 匿名メッセージを右クリック → 「匿名開示 (運営専用)」を選択

**権限**: 運営ロール必須

**詳細**: [ANONYMOUS_SYSTEM.md](./ANONYMOUS_SYSTEM.md) を参照

---

## 関連ドキュメント

- [ROMECOIN_SYSTEM.md](./ROMECOIN_SYSTEM.md) - ロメコインシステムの詳細
- [GAME_COMMANDS.md](./GAME_COMMANDS.md) - ゲーム機能の詳細
- [BANK_AND_LOAN_SYSTEM.md](./BANK_AND_LOAN_SYSTEM.md) - 銀行・借金機能の詳細
- [SHOP_SYSTEM.md](./SHOP_SYSTEM.md) - ショップ機能の詳細
- [PARIMUTUEL_SYSTEM.md](./PARIMUTUEL_SYSTEM.md) - パリミュチュエル機能の詳細
- [CLUB_INVESTMENT_SYSTEM.md](./CLUB_INVESTMENT_SYSTEM.md) - 部活投資機能の詳細
- [AUTOMATIC_FEATURES.md](./AUTOMATIC_FEATURES.md) - 自動機能の詳細

